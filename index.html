<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=9" >
	<title>Syntax Tree Generator</title>
	<style type="text/css">
	canvas { border: 1px solid ; background: white; display: none }
	</style>
</head>
<body style="background-color:AntiqueWhite"><center>
	<table border="0">
		<tr><th colspan="5" style="font-size:24px">Syntax Tree Generator</th></tr>
		<tr>
			<td><a href="help.html">Help</a></td>
			<td><a href="LICENSE.txt">License</a></td>
			<td colspan="3">Please send suggestions to <a href="mailto:mail@mshang.ca">mail@mshang.ca</a></td>
		</tr>
		<form name="f">
			<tr><th colspan="5"><textarea name="i" rows="3" cols="50" style="width:100%">[S [NP This] [VP [V is] [^NP a wug]]]</textarea></th></tr>
			<tr>
				<td align="left" colspan="2">Font style:</td>
				<td align="left"><input type="radio" name="fontstyle" value="serif" checked updateAttribute />Serif</td>
				<td align="left"><input type="radio" name="fontstyle" value="sans-serif" updateAttribute />Sans-Serif</td>
				<td align="left"><input type="radio" name="fontstyle" value="monospace" updateAttribute />Monospace</td>
			</tr>
			<tr>
				<td align="left" colspan="2">Terminal font:</td>
				<td align="left"><input type="checkbox" name="termbold" updateAttribute />Bold</td>
				<td align="left"><input type="checkbox" name="termital" updateAttribute />Italic</td>
				<td align="left"><input type="checkbox" name="termsc" updateAttribute />Small Caps</td>
			</tr>
			<tr>
				<td align="left" colspan="2">Non-terminal font:</td>
				<td align="left"><input type="checkbox" name="nontermbold" updateAttribute />Bold</td>
				<td align="left"><input type="checkbox" name="nontermital" updateAttribute />Italic</td>
				<td align="left"><input type="checkbox" name="nontermsc" updateAttribute />Small Caps</td>
			</tr>
			<tr>
				<td align="left" colspan="2">Font size:</td>
				<td align="right" colspan="3"><input type="range" name="fontsize" 
					style="width:100%" min="8" max="16" value="12" step="2" updateAttribute></input></td>
			</tr>
			<tr>
				<td align="left" colspan="2">Vertical spacing:</td>
				<td align="right" colspan="3"><input type="range" name="vertspace" 
					style="width:100%" min="30" max="100" value="40" step="5" updateAttribute></input></td>
			</tr>
			<tr>
				<td align="left" colspan="2">Horizontal spacing:</td>
				<td align="right" colspan="3"><input type="range" name="horspace" 
					style="width:100%" min="10" max="50" value="10" step="5" updateAttribute></input></td>
			</tr>
			<tr>
				<td align="center" colspan="5"><button name="makelink" type="button">Link to this tree</button></td>
			</tr>
		</form>
	</table><br />
	
	<canvas id="canvas"></canvas>
	<img id="treeimg" style="display:none"/>

	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-25344866-1']);
		_gaq.push(['_trackPageview']);

		(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>

	<script type="text/javascript" src="base64.js"></script>
	<script type="text/javascript" src="canvas2image.js"></script>
	<script type="text/javascript" src="jquery-1.7.1.min.js"></script>
	<script type="text/javascript" src="syntree.js"></script>
	<script type="text/javascript">
	
	function handler() {
		if (debug) {
			go();
		} else {
			try {
				go();
			} catch (err) {	}
		}
	}
	
	$(function() {
		try {
			var qs = decodeURIComponent(window.location.search.slice(1));
			if (qs == "") throw "";
			document.f.i.value = qs;
		} catch (err) {}
		
		handler();
		
		$(document.f.i).keyup(handler);
		$(document.f.i).change(handler);
		$('[updateAttribute]').change(handler);
		$(document.f.makelink).click(function() {
			var wl = window.location;
			window.prompt ("Address:", "http://mshang.github.com/syntree/?" + encodeURIComponent(document.f.i.value));
		});
	});
	</script>
	
</center></body>
</html>